<div class="wrap">
  <mat-card class="card">
    <h1 class="title">Recuperar contraseña</h1>
    <p class="subtitle" *ngIf="!sent">
      Ingresa tu correo y te enviaremos un enlace para restablecer tu contraseña.
    </p>

    <div class="success" *ngIf="sent">
      <mat-icon>mark_email_read</mat-icon>
      <div class="success-title">¡Enlace enviado!</div>
      <div class="success-text">
        Si existe una cuenta asociada a <b>{{ f['email'].value }}</b>, recibirás un correo con instrucciones.
      </div>
      <a mat-stroked-button color="primary" routerLink="/auth/login">Volver al inicio de sesión</a>
    </div>

    <form class="form" [formGroup]="form" (ngSubmit)="submit()" *ngIf="!sent">
      <mat-form-field appearance="outline" class="field compact">
        <mat-label>Correo electrónico</mat-label>
        <input matInput type="email" formControlName="email" autocomplete="email" required />
      </mat-form-field>

      <button mat-raised-button color="primary" class="btn" type="submit" [disabled]="form.invalid || sending">
        {{ sending ? 'Enviando…' : 'Enviar enlace' }}
      </button>

      <div class="login-link">
        ¿Recordaste tu contraseña? <a routerLink="/auth/login">Inicia sesión</a>
      </div>
    </form>
  </mat-card>
</div>
